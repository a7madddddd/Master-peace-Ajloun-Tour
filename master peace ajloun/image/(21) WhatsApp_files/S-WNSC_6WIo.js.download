;/*FB_PKG_DELIM*/

__d("IntlCLDRNumberType39",["IntlVariations"],(function(a,b,c,d,e,f,g){"use strict";a={getVariation:function(a){return c("IntlVariations").NUMBER_OTHER}};b=a;g["default"]=b}),98);
__d("WAWebChatForwardMessage",["Promise","WATimeUtils","WAWebAck","WAWebChatEphemerality","WAWebConstantsDeprecated","WAWebContactBlockedErrorAction","WAWebContactGetters","WAWebCryptoRandomMediaKey","WAWebFileUtils","WAWebFrontendMsgGetters","WAWebGetNewsletterContextForForwardedMsg","WAWebMedia","WAWebMediaGetUploadOriginForChat","WAWebMediaOpaqueData","WAWebMediaUploadMmsThumbnail","WAWebMmsMediaTypes","WAWebMsgGetters","WAWebMsgKey","WAWebMsgModelFromData","WAWebMsgType","WAWebNewsletterSendMsgAction","WAWebSendMsgChatAction","WAWebUserPrefsMeUser","WAWebValidateMediaKeyTimestamp","WAWebWid","WAWebWidFactory","asyncToGeneratorRuntime","lodash"],(function(a,b,c,d,e,f,g){var h;function i(a){return Boolean(d("WAWebFrontendMsgGetters").getAsMms(a)&&!a.ctwaContext)}function j(a,b,c,d,e){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,j){g===void 0&&(g=!1);j===void 0&&(j=!1);if(i(e)||d("WAWebFileUtils").isDocument(e))return d("WAWebMedia").forwardMediaMsg(e,a,g,j);j=p(e,a);var k=d("WAWebUserPrefsMeUser").getMaybeMeUser(),m=void 0;f.isGroup()&&(m=d("WAWebWidFactory").toUserWid(k));m=new(c("WAWebMsgKey"))({from:k,to:f,id:yield c("WAWebMsgKey").newId(),participant:m,selfDir:"out"});j=Object.assign(j,{id:m,from:k,t:d("WATimeUtils").unixTime(),to:f,ack:d("WAWebAck").ACK.CLOCK,participant:void 0,local:!0,isNewMsg:!0,star:!1,isForwarded:d("WAWebMsgGetters").getShouldDisplayAsForwarded(e),forwardedFromWeb:!0,forwardingScore:e.getForwardingScoreWhenForwarded(),multicast:g});if(c("WAWebWid").isNewsletter(a.id))return d("WAWebNewsletterSendMsgAction").forwardNewsletterMessage(a,d("WAWebGetNewsletterContextForForwardedMsg").maybeStripNewsletterForwardMetadata({forwardable:j,destination:a.id,source:e.id.remote,isOriginalMsgForwarded:e.isForwarded}));m=(yield l(j));d("WAWebSendMsgChatAction").addAndSendMsgToChat(a,m);return(h||(h=b("Promise"))).resolve()});return k.apply(this,arguments)}function l(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WAWebFrontendMsgGetters").getAsUrl(d("WAWebMsgModelFromData").msgModelFromMsgData(a));if(b==null)return a;var e=b.thumbnailHQ,f=b.mediaKeyTimestamp;if(e==null)return a;if(f!=null&&c("WAWebValidateMediaKeyTimestamp")(f))return a;try{f=(yield c("WAWebMediaUploadMmsThumbnail")({thumbnail:yield c("WAWebMediaOpaqueData").createFromBase64Jpeg(e),mediaType:d("WAWebMmsMediaTypes").MEDIA_TYPES.THUMBNAIL_LINK,mediaKeyInfo:c("WAWebCryptoRandomMediaKey")(),uploadOrigin:c("WAWebMediaGetUploadOriginForChat")(d("WAWebFrontendMsgGetters").getChat(b.unsafe())),forwardedFromWeb:!0,timeout:c("WAWebConstantsDeprecated").MMS_THUMBNAIL_UPLOAD_TIMEOUT,isViewOnce:!1}));e=f.filehash;b=f.mediaEntry;return(b==null?void 0:b.getMediaKey())==null?n(a):babelHelpers["extends"]({},a,{thumbnailDirectPath:b==null?void 0:b.directPath,thumbnailSha256:e,thumbnailEncSha256:(f=b==null?void 0:b.getEncfilehash())!=null?f:void 0,mediaKey:b==null?void 0:b.getMediaKey(),mediaKeyTimestamp:b==null?void 0:b.getMediaKeyTimestamp()})}catch(b){return n(a)}});return m.apply(this,arguments)}function n(a){return babelHelpers["extends"]({},a,{thumbnailHQ:void 0,thumbnailDirectPath:void 0,thumbnailSha256:void 0,thumbnailEncSha256:void 0,mediaKey:void 0,mediaKeyTimestamp:void 0,thumbnailHeight:void 0,thumbnailWidth:void 0})}function a(a,b,c,d){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){e===void 0&&(e=!1);f===void 0&&(f=!1);var g=a.id,h=a.contact;if(d("WAWebContactGetters").getIsUser(h)&&h.isContactBlocked)throw new(c("WAWebContactBlockedErrorAction"))("Forwarded to contact is blocked",h);h=[];for(b of b){var k=f||d("WAWebMsgGetters").getHasOriginatedFromNewsletter(b);try{yield j(a,b,g,e,k)}catch(a){i(b)&&h.push(b)}}return h});return o.apply(this,arguments)}function p(a,b){var e=["buttons","caption","broadcast","ephemeralDuration","ephemeralSettingTimestamp","ephemeralStartTimestamp","ephemeralOutOfSync","disappearingModeInitiatedByMe","disappearingModeTrigger","dynamicReplyButtons","replyButtons","isMdHistoryMsg","bizPrivacyStatus","kicState","kicKey","kicTimestampMs","kicNotified","rcat","latestEditMsgKey","latestEditSenderTimestampMs","invokedBotWid","botMessageSecret","botEditType","botFeedbackKind","botFeedbackText","botTargetSenderJid","bizBotType","botPersonaId","botRespOrInvocationRevokeBotWid","botResponseTargetId","botPluginType","botPluginReferenceIndex","botPluginSearchProvider","botPluginSearchUrl","botEditTargetId","lastBotEditBodyLength","botPluginMaybeParent","rowId","serverId","viewCount","messageSecret"],f=a.isDynamicReplyButtonsMsg===!0&&a.type===d("WAWebMsgType").MSG_TYPE.CHAT;f||(e=["footer"].concat(e));((f=a.quotedMsg)==null?void 0:f.type)!==d("WAWebMsgType").MSG_TYPE.PRODUCT&&(e=["quotedMsg","quotedParticipant","quotedRemoteJid","quotedStanzaID"].concat(e));f=c("lodash").omit(a.toJSON(),e);a.ctwaContext&&(f.body=a.ctwaContext.sourceUrl,f.type=d("WAWebMsgType").MSG_TYPE.CHAT,f.mediaObject=void 0);f.forwardedNewsletterMessageInfo=d("WAWebGetNewsletterContextForForwardedMsg").getNewsletterContextForForwardedMsg(a);d("WAWebChatEphemerality").isEphemeralSettingOn(b)&&(f.ephemeralDuration=d("WAWebChatEphemerality").getEphemeralSetting(b));e=d("WAWebChatEphemerality").getEphemeralSettingTimestamp(b);e!=null&&(f.ephemeralSettingTimestamp=e);e=d("WAWebChatEphemerality").getDisappearingModeInitiator(b);e!=null&&(f.disappearingModeInitiator=e);e=d("WAWebChatEphemerality").getDisappearingModeTrigger(b);e!=null&&(f.disappearingModeTrigger=e);e=d("WAWebChatEphemerality").getDisappearingModeInitiatedByMe(b);e!=null&&(f.disappearingModeInitiatedByMe=e);!(((e=a.id.remote)==null?void 0:e.isBot())||((e=a.mentionedJidList)==null?void 0:e.find(function(a){return a.isBot()}))!=null)&&b.isCAGAdmin()&&Object.assign(f,{messageSecret:self.crypto.getRandomValues(new Uint8Array(32))});return f}g.forwardMessages=a;g.getForwardedMessageFields=p}),98);
__d("WAWebFormatForwardErrorChatAction",["fbt","WAWebStringsWithMultiplePluralParts"],(function(a,b,c,d,e,f,g,h){function a(a){var b=a.chat,c=a.undelivered,e=a.canForward;a=a.cannotForward;e=e.length-c.length;var f=a.length+c.length;if(e>0)return c.length?a.length?d("WAWebStringsWithMultiplePluralParts").getCannotForwardFileMissingAndCapabilityContactString(f,b.formattedTitle):h._("__JHASH__gS9a7nT-6F3__JHASH__",[h._plural(f,"count")]):d("WAWebStringsWithMultiplePluralParts").getCannotForwardCapabilityContactString(f,b.formattedTitle);if(c.length)return a.length?!b.isUser?h._("__JHASH__vBqz_StOxXW__JHASH__",[h._param("contact",b.formattedTitle)]):h._("__JHASH__vBqz_StOxXW__JHASH__",[h._param("contact",b.formattedTitle)]):h._("__JHASH__f5YCKIGz_sX__JHASH__");return!b.isUser?h._("__JHASH__cFIoioNvs0a__JHASH__",[h._param("contact",b.formattedTitle)]):h._("__JHASH__cFIoioNvs0a__JHASH__",[h._param("contact",b.formattedTitle)])}g["default"]=a}),226);
__d("WAWebForwardErrorChatAction",["WACustomError"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.reasons=b;return c}return b}(d("WACustomError").customError("ForwardError"));g["default"]=a}),98);
__d("WAWebForwardMediaWithCaptionPopupNux.react",["fbt","WAWebConfirmPopup.react","WAWebFlex.react","WAWebModal.react","WAWebText_DONOTUSE.react","WAWebUISpacing","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={featureDescriptionParagraph:{textAlign:"x2b8uid",$$css:!0}};function a(a){var b=a.onOk;a=function(){b()};var c=h._("__JHASH__aaBehuw1wrd__JHASH__");return j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{okText:h._("__JHASH__FXvfKHgkfR4__JHASH__"),onOK:a,type:d("WAWebModal.react").ModalTheme.ForwardMediaWithCaption,children:j.jsx(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",children:j.jsx(d("WAWebText_DONOTUSE.react").TextParagraph,{xstyle:[k.featureDescriptionParagraph,d("WAWebUISpacing").uiMargin.top16,d("WAWebUISpacing").uiMargin.bottom32],children:c})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebForwardMediaWithCaptionPreview.react",["fbt","WAWebChatMsgSymbol.react","WAWebChatPreferenceCollection","WAWebClickable.react","WAWebClock","WAWebEmojiPickerPlugin","WAWebEmojiSuggestions.react","WAWebEmojiText.react","WAWebFlex.react","WAWebFlexItem.react","WAWebFormatConfiguration","WAWebFormatMsgText","WAWebFrontendMsgGetters","WAWebImgPlaceholderIcon","WAWebMediaThumbnail.react","WAWebMediaUrlProvider","WAWebMsgType","WAWebRichTextInput.react","WAWebRichTextInputGatingUtils","WAWebStatusDocumentIcon","WAWebSuggestionsPanelContainer.react","WAWebUISpacing","WAWebUnstyledButton.react","WAWebVideoPlaceholderIcon","WAWebWamEnumWebcRmrReasonCode","WAWebXIcon","react","stylex","useWAWebModelValues"],(function(a,b,c,d,e,f,g,h){var i,j,k,l=k||c("react"),m=(i||(i=d("react"))).useState,n={wrapper:{position:"x1n2onr6",height:"xcbkimw",width:"x3p9ev8",backgroundColor:"xtl5do8",$$css:!0},textContainer:{position:"x1n2onr6",height:"x5yr21d",width:"xh8yej3",$$css:!0},container:{position:"x1n2onr6",height:"x5yr21d",width:"x86nts4",backgroundColor:"x9qxke2",$$css:!0},captionPreviewContainer:{display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",$$css:!0},composerContainer:{cursor:"x1ed109x",opacity:"xg01cxk",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",$$css:!0},composerWrapper:{display:"x78zum5",$$css:!0},composerInput:{height:"x1plxi8p",alignItems:"x6s0dn4",$$css:!0},composerFont:{fontSize:"x4xgy31",$$css:!0},mediaThumbContainer:{minWidth:"xculje8",height:"x5yr21d",$$css:!0},placeholderIcon:{width:"xh8yej3",height:"x5yr21d",$$css:!0},documentIcon:{height:"xng8ra",width:"x1247r65",$$css:!0},thumbContainer:{width:"x46vnbo",height:"x11daxxc",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopColor:"x14rkfp4",borderEndColor:"x64bvqu",borderBottomColor:"xolcn3t",borderStartColor:"xbh63j1",$$css:!0},thumb:{overflowX:"x6ikm8r",overflowY:"x10wlt62",backgroundRepeat:"xiy17q3",backgroundPosition:"x1xsqp64",backgroundSize:"x18d0r48",$$css:!0},quotedCaption:{flexGrow:"x1iyjqo2",width:"xh8yej3",overflowX:"x6ikm8r",overflowY:"x10wlt62",fontSize:"x1f6kntn",fontWeight:"xo1l8bm",position:"x1n2onr6",color:"xyvbeiw",$$css:!0},xButton:{position:"x1n2onr6",top:"xfr5jun",end:"x1923su1",left:null,right:null,$$css:!0},xDimensions:{height:"x1qx5ct2",width:"xw4jnvo",$$css:!0},xIconColor:{color:"x1szdls9",$$css:!0},captionTextContainer:{width:"xh8yej3",$$css:!0},captionTextSpacing:{whiteSpace:"xti2ec1",$$css:!0},captionPreviewContainerAnimate:{animationName:"xvma63k",animationDuration:"xw8ag78",animationTimingFunction:"x1wg5k15",animationFillMode:"x10e4vud",backfaceVisibility:"xlp1x4z",$$css:!0},composerContainerAnimate:{animationName:"x127lhb5",animationDuration:"x4afe7t",animationDelay:"x1k0bccz",animationTimingFunction:"x1wg5k15",animationFillMode:"x10e4vud",backfaceVisibility:"xlp1x4z",$$css:!0}};function a(a){var b=a.displayCaptionText,e=a.msg,g=a.onAppendMessage,i=a.onRemoveCaptionSelect;a=d("useWAWebModelValues").useModelValues(c("WAWebChatPreferenceCollection").getDefault(),["spellcheck","transformTextEmoji","enterIsSend"]);var k=function(a){a.stopPropagation(),a.preventDefault(),i()},o=function(){var b=null,a=null;switch(e.type){case d("WAWebMsgType").MSG_TYPE.IMAGE:b=h._("__JHASH__q6dTFCv-wOB__JHASH__");break;case d("WAWebMsgType").MSG_TYPE.VIDEO:e.isGif?b=h._("__JHASH__BdIbb2QU_eH__JHASH__"):(b=h._("__JHASH__n0ymn3rOVmB__JHASH__"),a=d("WAWebClock").Clock.durationStr(Number(e.duration))+" ")}b=l.jsxs("span",{className:"xk50ysn",children:[" ",b," "]});return[a,b]},p=function(a){g(a.text)},q=l.jsx(c("WAWebChatMsgSymbol.react"),{msg:e.unsafe()},"msg-symbol");o=o();var r=o[0];o=o[1];var s=c("WAWebFormatMsgText")(e.unsafe(),{stripFormatting:!1}),t=d("WAWebFormatConfiguration").QuotedMention({mentions:e.mentionMap(),groupMentions:e.groupMentionMap()});q=l.jsxs(d("WAWebFlex.react").FlexColumn,{className:(j||(j=c("stylex")))([n.quotedCaption,d("WAWebUISpacing").uiPadding.all8]),align:"start",justify:"center",children:[l.jsxs(c("WAWebFlexItem.react"),{children:[q,r,o]}),l.jsx(c("WAWebFlexItem.react"),{xstyle:[d("WAWebUISpacing").uiMargin.vert5,n.captionTextContainer],children:l.jsx(d("WAWebEmojiText.react").EmojiText,{xstyle:n.captionTextSpacing,className:"x1evy7pa x104kibb x6ikm8r x10wlt62 xlyipyv x1h7i4cw x1ua5tub",direction:d("WAWebFrontendMsgGetters").getDir(e),text:s,formatters:t,ellipsify:!0,testid:void 0},"status")})]});r=h._("__JHASH__1qEqAhdy8GK__JHASH__");o=b?l.jsxs(c("WAWebFlexItem.react"),{grow:1,xstyle:[n.container,n.captionPreviewContainer,!b&&n.captionPreviewContainerAnimate],children:[l.jsx("span",{className:"x2lah0s x51ohtg x1rr48d"}),q,l.jsx(c("WAWebUnstyledButton.react"),{xstyle:[n.xButton,n.xDimensions],onClick:k,title:r,"aria-label":r,testid:void 0,children:l.jsx(d("WAWebXIcon").XIcon,{xstyle:n.xDimensions,iconXstyle:n.xIconColor,height:20,width:20})})]}):null;s=m();var u=s[0];t=s[1];q=u==null?void 0:u.editor;k=q&&!d("WAWebRichTextInputGatingUtils").composerV2M2Enabled()&&l.jsx("div",{className:"x1n2onr6 xh8yej3",children:l.jsx(d("WAWebEmojiSuggestions.react").EmojiSuggestions,{kind:d("WAWebSuggestionsPanelContainer.react").SuggestionsPanelKind.ComposeBox,editor:q})});r=h._("__JHASH__RXsFvYB02SV__JHASH__");s=function(){u==null?void 0:u.focus()};q=b?null:l.jsx(d("WAWebClickable.react").Clickable,{onClick:s,children:l.jsx(c("WAWebFlexItem.react"),{grow:1,xstyle:[n.container,n.composerContainer,n.composerContainerAnimate],children:l.jsx("div",{className:(j||(j=c("stylex")))(d("WAWebUISpacing").uiPadding.all12,n.composerWrapper),children:l.jsx(d("WAWebRichTextInput.react").RichTextInput,{ref:t,xstyle:n.composerInput,textXstyle:n.composerFont,multiline:!0,textFormatEnabled:!0,readOnly:!1,placeholder:r,title:r,maxVisibleLines:3,onChange:p,testid:void 0,bulletPointsEnabled:!0,numberedListEnabled:!0,inlineCodeEnabled:!0,blockQuoteEnabled:!0,spellCheck:a.spellcheck,transformTextEmoji:a.transformTextEmoji,enterIsNewLine:!a.enterIsSend,children:d("WAWebRichTextInputGatingUtils").composerV2M2Enabled()&&l.jsx(d("WAWebEmojiPickerPlugin").EmojiPickerPlugin,{})})})})});function v(a){switch(a.type){case d("WAWebMsgType").MSG_TYPE.IMAGE:return d("WAWebImgPlaceholderIcon").ImgPlaceholderIcon;case d("WAWebMsgType").MSG_TYPE.VIDEO:return d("WAWebVideoPlaceholderIcon").VideoPlaceholderIcon;default:return d("WAWebStatusDocumentIcon").StatusDocumentIcon}}function w(a){var b=v(a);return a.type===d("WAWebMsgType").MSG_TYPE.DOCUMENT?l.jsx("div",{className:"x78zum5 x6s0dn4 xl56j7k xh8yej3 x5yr21d",children:l.jsx(b,{iconXstyle:n.documentIcon})},"default"):l.jsx("div",{className:"x78zum5 x6s0dn4 xl56j7k xh8yej3 x5yr21d",children:l.jsx(b,{iconXstyle:n.placeholderIcon})},"default")}w.displayName=w.name+" [from "+f.id+"]";var x=w(e);b=e.type===d("WAWebMsgType").MSG_TYPE.IMAGE?l.jsx(c("WAWebMediaUrlProvider"),{mediaData:e.mediaData,placeholderRenderer:function(){return x},downloadMedia:function(){return e.downloadMedia({downloadEvenIfExpensive:!1,rmrReason:d("WAWebWamEnumWebcRmrReasonCode").WEBC_RMR_REASON_CODE.OTHER,isUserInitiated:!1})},renderProgressively:!1,children:function(a){return l.jsx("div",{className:(j||(j=c("stylex")))([n.thumbContainer,n.thumb,d("WAWebUISpacing").uiMargin.end8]),style:{backgroundImage:"url("+a+")"}})}}):l.jsx(c("WAWebMediaThumbnail.react"),{msg:e,thumbnailPlaceholder:x,childClassName:(j||(j=c("stylex")))(n.thumbContainer,n.thumb,d("WAWebUISpacing").uiMargin.end8)});s=l.jsx(c("WAWebFlexItem.react"),{grow:0,xstyle:n.mediaThumbContainer,children:b});return l.jsxs(l.Fragment,{children:[l.jsx(d("WAWebFlex.react").FlexRow,{children:k}),l.jsx("div",{className:j([n.wrapper,d("WAWebUISpacing").uiPadding.all8]),children:l.jsxs(d("WAWebFlex.react").FlexRow,{xstyle:n.textContainer,align:"center",justify:"start",children:[s,o,q]})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebWamEnumChannelForwardContentType",[],(function(a,b,c,d,e,f){a=Object.freeze({UPDATE:0,UPDATE_CARD:1});f.CHANNEL_FORWARD_CONTENT_TYPE=a}),66);
__d("WAWebPsChannelPostForwardWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumChannelForwardContentType","WAWebWamEnumMediaType","WAWebWamEnumMessageChatType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({PsChannelPostForward:[4746,{channelForwardContentType:[6,d("WAWebWamEnumChannelForwardContentType").CHANNEL_FORWARD_CONTENT_TYPE],channelForwardGroupType:[1,d("WAWebWamEnumMessageChatType").MESSAGE_CHAT_TYPE],cid:[2,a.TYPES.STRING],destinationChannelId:[7,a.TYPES.STRING],destinationPostId:[8,a.TYPES.STRING],mediaType:[3,d("WAWebWamEnumMediaType").MEDIA_TYPE],postId:[4,a.TYPES.STRING]},[1,1,1],"private",0]},{PsChannelPostForward:[]});g.PsChannelPostForwardWamEvent=b}),98);
__d("WAWebLogNewsletterMessageForward",["WAWebGetMessageChatTypeFromWid","WAWebMsgGetters","WAWebNewsletterGatingUtils","WAWebPsChannelPostForwardWamEvent"],(function(a,b,c,d,e,f,g){function a(a,b){var c,e;c=d("WAWebMsgGetters").getIsNewsletterMsg(a)?a.id.remote:(c=a.forwardedNewsletterMessageInfo)==null?void 0:c.newsletterId;var f=a.getWamMediaType();e=d("WAWebMsgGetters").getIsNewsletterMsg(a)?a.serverId:(e=a.forwardedNewsletterMessageInfo)==null?void 0:e.serverMessageId;for(var g=0;g<b.length;g++){var i=b[g],j={channelForwardGroupType:d("WAWebGetMessageChatTypeFromWid").getMessageChatTypeFromWid(i.id),mediaType:f};h({origin:a.id.remote,destination:i})&&Object.assign(j,{cid:c==null?void 0:c.user,postId:e==null?void 0:e.toString(),destinationChannelId:i.id.user});new(d("WAWebPsChannelPostForwardWamEvent").PsChannelPostForwardWamEvent)(j).commit()}}function h(a){var b=a.origin;a=a.destination;return b.isNewsletter()&&a.id.isNewsletter()&&d("WAWebNewsletterGatingUtils").isNewsletterForwardToChannelLoggingEnabled()}g.logNewsletterMessageForward=a}),98);
__d("WAWebForwardMessagesToChat",["Promise","WAPromiseProps","WAWebBlockContactAction","WAWebChatForwardMessage","WAWebFormatForwardErrorChatAction","WAWebForwardErrorChatAction","WAWebLogNewsletterMessageForward","WAWebMsgActionCapability","WAWebMsgCollection","WAWebMsgGetters","WAWebNewsletterGatingUtils","WAWebWamChatPSALogger","asyncToGeneratorRuntime","lodash"],(function(a,b,c,d,e,f,g){var h;function a(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){f===void 0&&(f=!1);var g=(h||(h=b("Promise"))).all(a.map(function(a){d("WAWebMsgGetters").getIsPSA(a)&&d("WAWebWamChatPSALogger").logChatPSAForward(a);d("WAWebNewsletterGatingUtils").isNewsletterMessageForwardLoggingEnabled()&&d("WAWebMsgGetters").getHasOriginatedFromNewsletter(a)&&d("WAWebLogNewsletterMessageForward").logNewsletterMessageForward(a,e);return d("WAPromiseProps").promiseProps({message:a,canForward:d("WAWebMsgActionCapability").canForwardMsg(a)&&(d("WAWebMsgCollection").MsgCollection.get(a.id)!=null||d("WAWebMsgGetters").getIsEphemeral(a))})}));a=(yield h.all(e.filter(function(a){return a.canSend}).map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.isUser&&a.contact.isContactBlocked?d("WAWebBlockContactAction").unblockContact(a.contact):(h||(h=b("Promise"))).resolve(!0);e=(yield (h||(h=b("Promise"))).all([g,e]));e=e[0];var i=c("lodash").map(c("lodash").filter(e,{canForward:!0}),"message");e=c("lodash").map(c("lodash").filter(e,{canForward:!1}),"message");return d("WAPromiseProps").promiseProps({chat:a,undelivered:d("WAWebChatForwardMessage").forwardMessages(a,i,!0,f),msgsThatCanBeforwarded:i,msgsThatCannotBeForwarded:e})});return function(b){return a.apply(this,arguments)}}())));a=a.map(function(a){var b=a.chat,d=a.undelivered,e=a.msgsThatCanBeforwarded;a=a.msgsThatCannotBeForwarded;var f=null;(d.length||a.length)&&(f=c("WAWebFormatForwardErrorChatAction")({chat:b,undelivered:d,canForward:e,cannotForward:a}));return f!=null&&f!==""?{chat:b,reason:f}:null}).filter(Boolean);if(a.length)throw new(c("WAWebForwardErrorChatAction"))(a);else return!0});return i.apply(this,arguments)}g.forwardMessagesToChats=a}),98);
__d("WAWebHighlyForwardedIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="highly-forwarded";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=16;m=20;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 20 16",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),version:"1.1",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M13.6059557,5.26308901 C13.6220086,5.26163419 13.6302968,5.26102868 13.6302968,5.26102868 L13.6666317,3.82396292 C13.6881611,2.97246613 14.1900805,2.77489995 14.7806307,3.3754967 L18.4132486,7.06991365 C18.7126057,7.37436354 18.7160739,7.87287893 18.4230266,8.18124118 L14.7679628,12.0273223 C14.1812438,12.6447038 13.7056141,12.4510723 13.7056141,11.6045324 L13.7056141,9.93754567 L14.8701549,8.71214475 C15.4496567,8.10235763 15.441656,7.13001879 14.8512575,6.52957627 L13.6059557,5.26308901 L13.6059557,5.26308901 Z",fillOpacity:.25,fill:"currentColor"}),j.jsx("path",{d:"M9.55511091,3.82396292 C9.57664026,2.97246613 10.0785597,2.77489995 10.6691099,3.3754967 L14.3017278,7.06991365 C14.6010849,7.37436354 14.6045531,7.87287893 14.3115058,8.18124118 L10.656442,12.0273223 C10.069723,12.6447038 9.59409325,12.4510723 9.59409325,11.6045324 L9.59409325,9.87219486 C9.59409325,9.87219486 5.03474338,9.49878283 2.43099409,12.3846575 C1.83824676,12.8974744 1.66218866,12.9568393 1.47026458,12.8572726 C1.32851376,12.7423664 1.28325362,12.3846575 1.73218749,11.260453 C3.56459895,5.69602505 9.51877595,5.26102868 9.51877595,5.26102868 L9.55511091,3.82396292 Z",fillOpacity:.4,fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.HighlyForwardedIcon=a}),98);
__d("WAWebFrequentlyForwardedWarning.react",["fbt","WAWebCellFrame.react","WAWebExternalLink.react","WAWebFaqUrl","WAWebHighlyForwardedIcon","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.frequentlyForwardedCount;a=a.totalCount;b=j.jsxs("span",{children:[b===1&&a===1?h._("__JHASH__u9y9vWwQqR-__JHASH__"):h._("__JHASH__MJ9CvlrZLhO__JHASH__")," ",j.jsx(d("WAWebExternalLink.react").ExternalLink,{href:d("WAWebFaqUrl").getFrequentlyForwardedFaqUrl(),children:h._("__JHASH__RR1bpeluTQm__JHASH__")})]});return j.jsxs("div",{className:"x78zum5 x150wa6m xso031l x1q0q8m5 xcsjwe9",children:[j.jsx("div",{className:"x78zum5 x6s0dn4 xpdqn1h xmupa6y x1wm35g",children:j.jsx(d("WAWebHighlyForwardedIcon").HighlyForwardedIcon,{width:24,height:24})}),j.jsx(c("WAWebCellFrame.react"),{theme:"plain",primary:b,idle:!0})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebNewsletterForwardConfirmationModal.react",["fbt","WAWebConfirmPopup.react","WAWebFbtCommon","WAWebModalManager","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useState;function m(){d("WAWebModalManager").ModalManager.close()}function a(a){var b=a.forwardToChat,e=a.handleConfirm;a=l(!1);var f=a[0],g=a[1];a=k(function(){g(!0),e()["finally"](function(){g(!1)})},[e]);return j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{okSpinner:f,okDisabled:f,cancelDisabled:f,onOK:a,okText:n.okText(),title:n.title(b.name),onCancel:m,cancelText:c("WAWebFbtCommon")("Cancel"),children:n.body()})}a.displayName=a.name+" [from "+f.id+"]";var n={title:function(a){return h._("__JHASH__8S0ET8aZ3DY__JHASH__",[h._param("channel-name",a)])},body:function(){return h._("__JHASH__8dr3e4DjJO2__JHASH__")},okText:function(){return h._("__JHASH__uEoTTP4tATP__JHASH__")}};g.NewsletterForwardConfirmationModal=a}),226);
__d("WAWebForwardMessageModal.react",["fbt","Promise","WAFilteredCatch","WALogger","WAWebChatModel","WAWebCmd","WAWebConfirmPopup.react","WAWebConstantsDeprecated","WAWebContactGetters","WAWebFbtCommon","WAWebForwardErrorChatAction","WAWebForwardMediaWithCaptionPopupNux.react","WAWebForwardMediaWithCaptionPreview.react","WAWebForwardMessagesToChat","WAWebFrequentlyForwardedWarning.react","WAWebFrontendMsgGetters","WAWebMessageYourselfMetricUtils","WAWebModalManager","WAWebMsgGetters","WAWebMsgModelUtils","WAWebNewsletterForwardConfirmationModal.react","WAWebNewsletterFutureProofUtils","WAWebNewsletterGatingUtils","WAWebNewsletterSendMsgAction","WAWebNux","WAWebSelectModal.react","WAWebSendTextMsgChatAction","WAWebServerPropConstants","asyncToGeneratorRuntime","react","stylex","useWAWebNux"],(function(a,b,c,d,e,f,g,h){var i,j,k,l;function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[FMC][handleForwardConfirmed] failed to append message with forwarded media"]);m=function(){return a};return a}var n=l||c("react"),o=(j||(j=d("react"))).useState,p={forwardMediaWithCaptionPreview:{zIndex:"x11uqc5h",height:"xv32h1t",width:"xh8yej3",backgroundColor:"xtl5do8",boxSizing:"x9f619",boxShadow:"xpx74rz",$$css:!0}},q=1;function a(a){var e=a.msgs,f=a.onClose,g=a.onForward,h=e[0];a=d("WAWebFrontendMsgGetters").getChat(h);var i=e.some(d("WAWebMsgGetters").getIsFrequentlyForwarded),j=e.some(function(a){return a.isForwarded}),k=e.filter(function(a){return!d("WAWebMsgGetters").getIsFrequentlyForwarded(a)&&a.getForwardingScoreWhenForwarded()===c("WAWebConstantsDeprecated").FREQUENTLY_FORWARDED_SENTINEL});k=k.length?n.jsx(c("WAWebFrequentlyForwardedWarning.react"),{frequentlyForwardedCount:k.length,totalCount:e.length}):void 0;var l=i?q:d("WAWebServerPropConstants").MULTICAST_LIMIT_GLOBAL,m=d("WAWebMsgModelUtils").getMediaMsgWithCaptionForForwarding(e),p=o(!!m),y=p[0],z=p[1];p=c("useWAWebNux")(d("WAWebNux").NUX.FORWARD_MEDIA_WITH_CAPTION);var A=p[0],B=p[1];p=o(!1);var C=p[0],D=p[1];p=function(){z(!1)};var E=o(null),F=E[0],G=E[1];E=function(a){G(a)};function H(a,b){b===void 0&&(b=!1);var c=a.find(function(a){return a.isNewsletter});return c!=null?d("WAWebModalManager").ModalManager.open(n.jsx(d("WAWebNewsletterForwardConfirmationModal.react").NewsletterForwardConfirmationModal,{forwardToChat:c,handleConfirm:function(){return I(a,b)}})):I(a,b)}function I(a,b){return J.apply(this,arguments)}function J(){J=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b=!1);if(y&&A&&!a.some(v)){D(!0);return}var h=a[0],i=d("WAWebForwardMessagesToChat").forwardMessagesToChats(e,a,y)["catch"](d("WAFilteredCatch").filteredCatch(c("WAWebForwardErrorChatAction"),function(a){return u(a.reasons)}))["finally"](function(){return t(F,a)});h.isNewsletter&&(yield i);f();g==null?void 0:g(e);return d("WAWebCmd").Cmd.openChatFromUnread(a[0]).then(function(c){c&&d("WAWebContactGetters").getIsMe(a[0].contact)&&d("WAWebMessageYourselfMetricUtils").UiMessageYourselfSearchAction.logMessageYourselfOpenedEvent(a[0],b)})});return J.apply(this,arguments)}i={hasFrequentlyForwarded:i,hasForwarded:j,onConfirm:H,maxItems:l,excludeChat:a,isDisabled:function(a){return w(a,h)},customItemSecondaryText:x,excludeBroadcast:!0,title:s.title(e.length,h),includeNewsletters:d("WAWebNewsletterGatingUtils").isForwardToNewsletterEnabled(a.id),listType:d("WAWebSelectModal.react").ListType.ChatSelectModal,customHeader:k,ephemeralIcon:"chat-list",hasDirtyAppendMsgComposeBox:F!=null&&F!=="",previewComponent:n.jsx(r,{includeCaption:y,handleAppendMessage:E,handleRemoveCaption:p,msgs:e,mediaMsgWithCaption:m})};return n.jsxs(n.Fragment,{children:[n.jsx(d("WAWebSelectModal.react").SelectModal,babelHelpers["extends"]({},i,{tsNavigationData:a.isNewsletter?{surface:"channel-forward",extras:{channelWid:a.id}}:void 0})),C&&n.jsx(c("WAWebForwardMediaWithCaptionPopupNux.react"),{onOk:function(){B(),D(!1)}})]})}a.displayName=a.name+" [from "+f.id+"]";function r(a){var b=a.handleAppendMessage,e=a.handleRemoveCaption,f=a.includeCaption,g=a.mediaMsgWithCaption;a=a.msgs;var h=a.length===1&&d("WAWebMsgGetters").getIsMedia(a[0])&&!a[0].caption;a=a[0];if(d("WAWebFrontendMsgGetters").getChat(a).isNewsletter)return null;if(g)return n.jsx("div",{className:(k||(k=c("stylex")))([p.forwardMediaWithCaptionPreview]),children:n.jsx(c("WAWebForwardMediaWithCaptionPreview.react"),{msg:g,displayCaptionText:f,onRemoveCaptionSelect:e,onAppendMessage:b})});return h?n.jsx("div",{className:(k||(k=c("stylex")))([p.forwardMediaWithCaptionPreview]),children:n.jsx(c("WAWebForwardMediaWithCaptionPreview.react"),{msg:a,displayCaptionText:f,onRemoveCaptionSelect:e,onAppendMessage:b})}):null}r.displayName=r.name+" [from "+f.id+"]";var s={title:function(a,b){return d("WAWebMsgGetters").getIsNewsletterMsg(b)?h._("__JHASH__3SJFCQq0qE-__JHASH__",[h._plural(a)]):h._("__JHASH__IIflRvLsiRu__JHASH__",[h._plural(a)])}};function t(a,c){if(a==null||a==="")return;c=c.map(function(b){return b.isNewsletter?d("WAWebNewsletterSendMsgAction").sendNewsletterTextMsg(b,a,{}):d("WAWebSendTextMsgChatAction").sendTextMsgToChat(b,a)});return(i||(i=b("Promise"))).all(c)["catch"](function(a){d("WALogger").DEV(m()).devConsole({error:a})})}function u(a){a=a.map(function(a){var b=a.chat;a=a.reason;return n.jsxs("p",{children:[b.formattedTitle," : ",a]},b.id.toString())});d("WAWebModalManager").ModalManager.open(n.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){return d("WAWebModalManager").ModalManager.close()},okText:c("WAWebFbtCommon")("OK"),children:a}),void 0)}function v(a){return a instanceof d("WAWebChatModel").Chat&&a.isNewsletter}function w(a,b){return!v(a)?!1:!d("WAWebNewsletterFutureProofUtils").isMsgTypeSupported(b.type)}function x(a,b){if(!b||!v(a))return;return h._("__JHASH__DX3LyTu06T-__JHASH__")}g["default"]=a}),226);